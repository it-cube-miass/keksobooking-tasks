В этом задании мы начнём реализацию сценария переключения режимов страницы между неактивным и активным, свяжем режим активации с отрисовкой новых меток на карте.

Первое действие, которое нужно выполнить, перед тем, как приступить к этому заданию, вернуть страницу в исходное состояние. В прошлом разделе мы активировали карту, убрав у неё класс ```.map--faded``` и вызвали методы отрисовки похожих объявлений и метод отрисовки карточки. Проблема в том, что это не соответствует ТЗ — эти методы должны вызываться только в рамках соответствующих сценариев. Согласно ТЗ вызов метода отрисовки похожих объявлений нужно перенести в функцию активации, а метод отрисовки карточки можно закомментировать до тех пор, пока вы не доберётесь до cледующего задания.

Ещё нужно не забыть проверить пункт ТЗ, указывающий на то, что все интерактивные элементы формы должны быть неактивны в исходном состоянии. В разметке проекта поля активны, поэтому их нужно отключить, то есть добавить через DOM-операции самим полям или ```fieldset```, которые их содержат, атрибут ```disabled```.

## Задача
### 1. Активация страницы
Страница Кексобукинга может находиться в двух режимах: неактивном и активном. В неактивном режиме страница находится сразу после открытия. В этом режиме отключены форма и карта и единственное доступное действие — перемещение метки ```.map__pin--main```, являющейся контролом указания адреса объявления.

Первое взаимодействие с меткой (```mousedown```) переводит страницу в активное состояние.

В этом задании мы научимся переводить страницу Кексобукинга в активный режим. Для этого добавьте обработчик события ```mousedown``` на элемент ```.map__pin--main```

Обработчик события ```mousedown``` должен вызывать функцию, которая будет переводить страницу в «Активное состояние» технического задания.

Последним шагом добавим поддержку перевода страницы в активный режим с клавиатуры. Если сейчас попробовать переместиться с помощью клавиши ```Tab``` до метки и нажать клавишу ```Enter```, то страница не будет переведена в активный режим. Для решения этой задачи нам потребуется установить обработчик ```keydown``` для метки. При наступлении события мы должны проверить нажатую клавишу и если пользователь нажал ```Enter``` — перевести страницу в активный режим.

### 2. Заполнение поля адреса
Кроме активации формы, взаимодействие с меткой приводит к заполнению поля адреса. В значении поля записаны координаты, на которые метка указывает своим острым концом. Поэтому в обработчике события ```mousedown``` на элементе метки, кроме вызова метода, переводящего страницу в активное состояние, должен находиться вызов метода, который устанавливает значения поля адреса.

Ещё один момент заключается в том, что поле адреса должно быть заполнено всегда, в том числе сразу после открытия страницы. Детали определения координат для поля «адрес» перечислены в техническом задании.

Для определения смещения координаты относительно левого верхнего угла метки можно использовать любой способ, в том числе, вычисление размеров метки. Кроме этого, можно хранить размеры метки как константу.

### 3. Непростая валидация
Процесс проверки введённых пользователем данных называется валидация. Без проверок мы не можем гарантировать, что получим от пользователя данные в ожидаемом виде. Рассмотрим тривиальный пример: одно поле ввода, от пользователя требуется ввести число от 1 000 до 10 000. На первый взгляд, ошибиться трудно. А что если пользователь случайно введёт лишний 0 и вместо десяти тысяч на сервер отправится 100 000? Дальше ситуация может развиваться по-разному, но вывод напрашивается один: выполнять валидацию пользовательских данных следует всегда.

В этом задании мы запрограммируем сценарий установки соответствия количества гостей (спальных мест) с количеством комнат. Напомним, сценарий проверки нестандартный и решить задачу с помощью одних атрибутов не получится. Есть несколько путей к решению (об этом чуть ниже), но пока договоримся: при необходимости вы можете доработать разметку формы.

Разберём несколько подходов к решению. Первый заключается в физическом ограничении возможности выбора неправильных вариантов. Для этого вы можете или удалять соответствующие элементы ```option``` из разметки или добавлять им атрибут ```disabled```. Этот вариант относительно прост в реализации. Правда у него есть один существенный недостаток ‐ при таком подходе возникает проблема в сценарии взаимодействия, когда у пользователя уже выбран вариант, который вы хотите исключить. Произойдёт неявное изменение значения, которое пользователь скорей всего не заметит.

Второй подход заключается в использовании встроенного API для валидации. Вы пишите код проверки соответствия и если выбранное количество гостей не подходит под количество комнат, вызываете метод ```setCustomValidity```.

> **Обратите внимание.** В разметке задаётся и адрес, на который отправляются данные формы. В следующих заданиях, мы перепишем механизм отправки данных, но пока достаточно убедиться, что у соответствующих тегов ```form``` прописаны правильные атрибуты ```action``` и ```method```.
Если форма заполнена верно, то должна показываться страница сервера, указанная в атрибуте ```action``` тега ```form```, с успешно отправленными данными, если же форма пропустила какие-то некорректные значения, то будет показана страница с допущенными ошибками. В идеале у пользователя не должно быть сценария при котором он может отправить некорректную форму.
